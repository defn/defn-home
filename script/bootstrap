#!/usr/bin/env bash

function bootstrap_pkgsrc {
  pkg ensure security/mozilla-rootcerts
  mozilla-rootcerts install || true

  pkg ensure security/spiped
  pkg ensure misc/tmux
  pkg ensure www/squid www/squid3
  pkg ensure devel/editline
  pkg ensure misc/rlwrap
  pkg ensure sysutils/runit
  pkg ensure sysutils/cdrtools
  pkg ensure www/nginx
  pkg ensure databases/redis
  pkg ensure databases/postgresql94-server
  pkg ensure databases/mysql-server databases/mysql55-server
  pkg ensure databases/percona-toolkit
  pkg ensure databases/mongodb
  pkg ensure chat/irssi
  pkg ensure x11/xtermset
 }

function home_bootstrap {
  local shome="$(cd -P -- "${BASH_SOURCE%/*}/.." && pwd -P)"
  source "$shome/script/profile"

  app clone

  "$shome/script/update"
  source "$shome/script/profile"

  bootstrap_pkgsrc
}

home_bootstrap "$@"
